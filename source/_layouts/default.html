<!DOCTYPE html>
<html lang="en">
<head>
    <title>{% if page.title %}{% block title %}{{ page.title }}{% endblock %} &mdash; {% endif %}{{ site.title }}</title>
    <meta name="description" content="{{ site.title }}">
    <meta charset="utf-8">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/favicon.png"/>
    <link href="mailto:roman@pronskiy.com" rel="me">
    <link rel="webmention" href="https://webmention.io/pronskiy.com/webmention" />
    {% block head_meta %}
    <meta name="robots" content="index, follow">
    {% endblock %}
    <link rel="stylesheet" href="{{ site.url }}/assets/css/app.css">
    <script src="//unpkg.com/alpinejs" defer></script>
    <link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.6.0/styles/base16/darcula.min.css">
    <script src="//unpkg.com/@highlightjs/cdn-assets@11.6.0/highlight.min.js"></script>

    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:type" content="website">
    <meta property="og:title" content="{% if page.title %}{{ page.title|raw }}{% else %}{{ site.title }}{% endif %}">
    <meta property="og:description" content="{{ site.title }} &mdash; {{ site.subtitle }}">
    <meta property="og:image" content="{{ site.url }}{{ sharing_image(page.filename) }}">

    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="{{ site.url }}">
    <meta property="twitter:url" content="{{ site.url }}{{ page.url }}">
    <meta name="twitter:title" content="{% if page.title %}{{ page.title|raw }}{% else %}{{ site.title }}{% endif %}">
    <meta name="twitter:description" content="{{ site.title }}">
    <meta name="twitter:image" content="{{ site.url }}{{ sharing_image(page.filename) }}">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <link rel="alternate" type="application/atom+xml" href="{{ site.url }}/atom.xml" title="{{ site.title }} activity feed"/>
    {% block head_styles %}
    {% endblock %}
    {% block head_scripts %}
    {% endblock %}
</head>
<body class="bg-notion-bg">

<!-- Notion-style minimal header -->
<header class="max-w-notion mx-auto px-4 py-6">
    <nav class="flex items-center text-sm">
        <!-- Small avatar/icon -->
        <a href="/" class="flex-shrink-0 mr-3 no-underline">
            <img src="{{ site.url }}/assets/img/roman_pronskiy.jpg"
                 alt="Roman Pronskiy"
                 class="rounded-full w-8 h-8 object-cover"
                 width="32"
                 height="32">
        </a>

        <!-- Breadcrumb-style navigation -->
        <div class="flex items-center flex-wrap">
            <a href="/" class="text-notion-text no-underline hover:bg-notion-hover px-1.5 py-0.5 rounded transition-colors" data-scramble>
                Roman Pronskiy
            </a>
            <span class="nav-separator text-notion-text-secondary">/</span>
            <a href="/blog" class="text-notion-text-secondary no-underline hover:bg-notion-hover px-1.5 py-0.5 rounded transition-colors">
                Blog
            </a>
            <span class="nav-separator text-notion-text-secondary">/</span>
            <a href="/videos" class="text-notion-text-secondary no-underline hover:bg-notion-hover px-1.5 py-0.5 rounded transition-colors">
                Videos
            </a>
        </div>
    </nav>
</header>

{%block content_wrapper %}{% block content %}{% endblock %}{% endblock %}

<!-- Notion-style minimal footer -->
<footer class="max-w-notion mx-auto px-4 py-8 text-center text-sm text-notion-text-secondary">
    <div class="flex justify-center items-center space-x-4 mb-2">
        <a href="https://twitter.com/pronskiy" target="_blank" rel="noopener noreferrer me" class="text-notion-text-secondary hover:text-notion-text no-underline">Twitter</a>
        <span class="text-notion-border">·</span>
        <a href="https://github.com/pronskiy" target="_blank" rel="noopener noreferrer" class="text-notion-text-secondary hover:text-notion-text no-underline">GitHub</a>
        <span class="text-notion-border">·</span>
        <a href="https://www.linkedin.com/in/pronskiy/" target="_blank" rel="noopener noreferrer" class="text-notion-text-secondary hover:text-notion-text no-underline">LinkedIn</a>
    </div>
    <p class="m-0">&copy; Roman Pronskiy</p>
</footer>

{% block scripts %}
{% endblock %}

{% block scripts_after %}
{% endblock %}

<script>hljs.highlightAll();</script>
<script>
(function() {
  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
  document.querySelectorAll('[data-scramble]').forEach(function(el) {
    var original = el.textContent.trim();
    var queue = [];
    var frame = 0;
    var rafId = null;

    el.addEventListener('mouseenter', function() {
      if (rafId) cancelAnimationFrame(rafId);
      queue = [];
      for (var i = 0; i < original.length; i++) {
        var from = original[i];
        var to = original[i];
        var start = Math.floor(Math.random() * 20);
        var end = start + Math.floor(Math.random() * 20) + 10;
        queue.push({ from: from, to: to, start: start, end: end, char: null });
      }
      frame = 0;
      update();
    });

    function randomChar() {
      return chars[Math.floor(Math.random() * chars.length)];
    }

    function update() {
      var output = '';
      var complete = 0;
      for (var i = 0; i < queue.length; i++) {
        var item = queue[i];
        if (frame >= item.end) {
          complete++;
          output += item.to;
        } else if (frame >= item.start) {
          if (!item.char || Math.random() < 0.28) {
            item.char = randomChar();
          }
          output += item.char;
        } else {
          output += item.from;
        }
      }
      el.textContent = output;
      if (complete < queue.length) {
        frame++;
        rafId = requestAnimationFrame(update);
      } else {
        rafId = null;
      }
    }
  });
})();
</script>
{% include "google_analytics.html" %}
</body>
</html>
